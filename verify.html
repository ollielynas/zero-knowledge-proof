<!DOCTYPE html>
<html lang="en">
  <head>

    <meta charset="utf-8">
    <title>Verify Certificate</title>
            <link rel="stylesheet" href="main.css"/>

  </head>
  <body>
    <div class="input">
    <input placeholder="Name" id = "name" oninput="document.getElementById('valid').className='untested';document.getElementById('valid').innerHTML = 'click to validate'"></input>
    <br>
    <input placeholder="Problem ID" id = "problem-id" oninput="document.getElementById('valid').className='untested';document.getElementById('valid').innerHTML = 'click to validate'"></input>
    <br>
    <input placeholder="Code" id="code" oninput="document.getElementById('valid').className='untested';document.getElementById('valid').innerHTML = 'click to validate'"></input>
    <br>
    <br>
    <button onclick="
    if (ver_code(
      document.getElementById('code').value.replaceAll(' ', ''),
      document.getElementById('problem-id').value.replaceAll(' ', ''),
      document.getElementById('name').value,
      )) {
        document.getElementById('valid').className='valid-code';
        document.getElementById('valid').innerHTML = 'valid ✓'
      } else {
        document.getElementById('valid').className='valid-code';
        document.getElementById('valid').innerHTML = 'invalid ✗'
      }
      ">Verify</button>
      </div>
  <div class="output">
    <br>
    <br>
    <p class="untested" id = "valid">click to validate</p>

    <div id="output"></div>
    <script type="module">
      import init, {ver_code} from './pkg/semi_secure.js';

      async function run() {
        await init();
        window.ver_code = ver_code;
      }
      run();
    </script>
        <a class="home" href = "index.html">home</a>
</div>
  </body>
</html>